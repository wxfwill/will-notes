(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{438:function(s,t,a){"use strict";a.r(t);var n=a(54),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_2-作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-作用域"}},[s._v("#")]),s._v(" 2.作用域")]),s._v(" "),a("blockquote",[a("p",[s._v("本篇是在看完冴羽大佬的博客后，自己手动记一下以便加深理解，"),a("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/3",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文地址"),a("OutboundLink")],1)])]),s._v(" "),a("ul",[a("li",[s._v("作用域是程序源代码中定义变量的区域")]),s._v(" "),a("li",[s._v("作用域规定了如何查找变量，也就是确定当前执行代码对变量的访问权限")]),s._v(" "),a("li",[a("code",[s._v("Javascript")]),s._v("采用词法作用域，也就是静态作用域")])]),s._v(" "),a("h2",{attrs:{id:"静态作用域与动态作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态作用域与动态作用域"}},[s._v("#")]),s._v(" 静态作用域与动态作用域")]),s._v(" "),a("p",[a("strong",[a("code",[s._v("Javascript")]),s._v("采用的是词法作用域，函数的作用域在函数定义的时候就决定了")])]),s._v(" "),a("p",[s._v("而与词法作用域相对的是动态作用域，函数的作用域在函数调用的时候才决定的。")]),s._v(" "),a("p",[s._v("看以下例子的区别：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 执行结果为 1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("假设"),a("code",[s._v("Javascript")]),s._v("采用静态作用域，分析执行过程：")]),s._v(" "),a("p",[s._v("执行"),a("code",[s._v("foo")]),s._v("函数，先从"),a("code",[s._v("foo")]),s._v("函数内部查找是否有局部变量"),a("code",[s._v("value")]),s._v("，如果没有，就根据书写位置，查找上面一层的代码，也就是"),a("code",[s._v("value")]),s._v("等于 1，所以结果会打印 1.")]),s._v(" "),a("p",[s._v("假设"),a("code",[s._v("Javascript")]),s._v("采用动态作用域，分析执行过程：")]),s._v(" "),a("p",[s._v("执行"),a("code",[s._v("foo")]),s._v("函数，依然从"),a("code",[s._v("foo")]),s._v("函数内部查找是否有局部变量"),a("code",[s._v("value")]),s._v("，如果没有，就从调用函数的作用域，也就是"),a("code",[s._v("bar")]),s._v("函数内部查找"),a("code",[s._v("value")]),s._v("变量，所以结果会打印 2.")]),s._v(" "),a("p",[a("strong",[s._v("前面已经分析"),a("code",[s._v("Javascript")]),s._v("采用的是静态作用域，所以例子的最终结果是 1")])]),s._v(" "),a("p",[a("code",[s._v("总结：Javascript采用词法作用域（静态作用域）,函数的作用域基于函数创建的位置。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);